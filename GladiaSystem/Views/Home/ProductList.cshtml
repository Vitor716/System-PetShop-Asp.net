@model GladiaSystem.Models.Product
@{
    ViewBag.Title = "ProductList";
    ViewBag.Selected = "productList";
    Layout = "~/Views/Shared/_Layout.cshtml";

    List<int> IDs = ViewBag.IDs;
    List<string> NameList = ViewBag.Name;
    List<string> Desc = ViewBag.Desc;
    List<int> PriceList = ViewBag.Price;
    List<int> QuantList = ViewBag.Quant;
    List<int> QuantMinList = ViewBag.QuantMin;
    List<string> Brands = ViewBag.Brand;
    List<string> Images = ViewBag.Images;
    List<string> CategoryNames = ViewBag.CategoryName;

    List<int> AllIDs = ViewBag.AllIDs;
    List<string> AllNameList = ViewBag.AllName;
    List<string> AllDesc = ViewBag.AllDesc;
    List<int> AllPriceList = ViewBag.AllPrice;
    List<int> AllQuantList = ViewBag.AllQuant;
    List<int> AllQuantMinList = ViewBag.AllQuantMin;
    List<string> AllBrands = ViewBag.AllBrand;
    List<string> AllImages = ViewBag.AllImages;
    List<string> AllCategoryNames = ViewBag.AllCategoryName;
}

@Styles.Render("~/Content/Partials/List.css")

<div class="input-group mb-3" id="input-prod">
    <div class="input-group-prepend">
        <span class="input-group-text" id="basic-addon1"><img src="~/Content/Imagens/search.svg" alt="Search" class="search-img" /></span>
    </div>
    @using (Html.BeginForm("SearchProduct", "Home", FormMethod.Post, new { @class = "form-none" }))
    {
        @Html.TextBoxFor(m => m.Name, new { placeholder = "Digite o nome do produto", @class = "form-control" })
    }
</div>

<div class="card-grid">
    @{if (IDs != null & NameList != null & QuantList != null)
        {
            for (int i = 0; i < IDs.Count; i++)
            {
        <div class="icon-photo" id="small-card">
                <div class="info">
                    <img src=@Images[i] alt="Osso" class="avatar-img" />
                    <p id="title-prod">@NameList[i]</p>
                    <p id="marc-prod">@Brands[i]</p>
                    <p id="desc-prod">@Desc[i]</p>
                    <p id="tp-prod">@CategoryNames[i]</p>
                    <p id="price-prod">R$ @PriceList[i]</p>
                    <p id="quant-prod">Quantidade: @QuantList[i]</p>
                    @{if (QuantList[i] <= QuantMinList[i])
                        {
                            <p id="min-prod" class="red">Qtd Min: @QuantMinList[i]</p>
                        }
                        else
                        {
                            <p id="min-prod">Qtd Min: @QuantMinList[i]</p>
                        }
                    }
                </div>
            <a href='@Url.Action("DeleteProduct", "Home", new { productId = IDs[i]})'>
                <button class="sub-button" type="submit">
                    Deletar
                </button>
            </a>
        </div>
            }
        }
        else
        {
            for (int j = 0; j < AllIDs.Count; j++)
            {
                <div class="icon-photo" id="small-card">
                    <div class="info">
                        <img src=@AllImages[j] alt=@AllNameList class="avatar-img" />
                        <p id="title-prod">@AllNameList[j]</p>
                        <p id="marc-prod">@AllBrands[j]</p>
                        <p id="desc-prod">@AllDesc[j]</p>
                        <p id="tp-prod">@AllCategoryNames[j]</p>
                        <p id="price-prod">R$ @AllPriceList[j]</p>
                        <p id="quant-prod">Quantidade: @AllQuantList[j]</p>
                        @{if (AllQuantList[j] <= AllQuantMinList[j])
                            {
                                <p id="min-prod" class="red">Qtd Min: @AllQuantMinList[j]</p>
                            }
                            else
                            {
                                <p id="min-prod" >Qtd Min: @AllQuantMinList[j]</p>
                            }
                        }
                    </div>
                    <button class="sub-button" type="submit">
                        <a href='@Url.Action("DeleteProduct", "Home", new { productId = AllIDs[j]})'>
                                Deletar
                        </a>
                    </button>
                </div>
            }
        }
    }


</div> 